% !TEX root = ../Thesis.tex
% !TEX spellcheck = en-US

\chapter{GNS3}
\label{ch:gns3}

GNS3, whose original title was ``Graphical Network Simulator-3,'' is a software project, comprising several distinct components and, despite the ``simulator'' in its name, \emph{as a whole}, it falls under the category that, in this thesis, is called \emph{emulator}. % TODO try to (either with a source, or speculating) relate the name with ns-3
% TODO also: cite the source for the name
By ``as a whole,'' it is meant that, as shall be seen later, although some of its components, like the Dynamips program, are emulators in a very strict sense---i.e. its purpose is to run real machine code on a different hardware architecture (than its native one)---, it differentiates itself, on a high-level perspective, from a simulator which is a program designed to execute a mathematical model, processing modeled events as internal data-structures with a collection of preset algorithms that somehow mimic (a part of) the reality.

It's important to notice that a necessary step towards the goal of this this thesis is to systematize a technical description of the architecture and functional underpinnings of the GNS3 system, how is it executed, how does it interact with the hardware and software it is running in, how much resources does it take to work with GNS3 according to the \emph{mode} it is running in, etc., as that is an aspect that is yet to be further explored for, at least, the following reasons:  % TODO improve the writing how is etc written in Engilsh?
for one, the consulted academic material (i.e. research papers, mostly) is very brief and omissive in regards to the design, architecture and implementation of GNS3, and so is the official website and documentation. Besides that, many interesting details are in the ``paraofficial'' videos available via YouTube, but certified as official, by David Bombal\footnote{\url{https://www.youtube.com/channel/UCP7WmQ_U4GB3K51Od9QvM0w}}, namely a comprehensive overview of the architecture (compared with the functionality) of GNS3 by its creator, Jeremy Grossmann, and essentially are not anywhere else, at least from authoritative sources. % TODO same as the previous "sentence". Cite the videos (how and which ones?)

% TODO add a figure (a screen shot) showing the "official" submitter of GNS3 videos (and maybe the channel and/or links from the gns3 official website)

% end of intro

\section{GNS3's purpose and \emph{raison d'Ãªtre}}
\label{sec:gns3why}

The GNS3 project was co-created by Jeremy Grossmann at the University, the EPITECH, as part of the \emph{EPITECH Innovative Project (EIP)}\footnote{\url{https://eip.epitech.eu/2013/gns3/en/index.html}, accessed on December 2019}.
There is also a blog\footnote{\url{http://gns3.blogspot.com/2007/}, accessed on December 2019}, whose first posts date of 2007, that announces the first ``beta'' releases of the software and gives the details about the inception of GNS3, and also shows lists the original developers of the project. In particular, it is clearly stated the dependency on Dynamips, a program that will be explored later, and that currently is under the process of being deprecated.

It may be speculated that GNS3's first ``appeal'' was supplying students of Cisco certifications with a self-study tool more powerful that anything before, one that allows for the creation of arbitrary network topologies and practice their skills with the same software stack that is used in real Cisco devices and the hosts connected to them---from the operating system, up until application--level network utilities---, without having to use the expensive official solutions for that purpose, or depending on a real, physical networking laboratory, or having to fall back on the limited graphical simulators like Cisco's Packet Tracer.
However, despite having kept a strong relation with training for Cisco CCNA and related certifications, the magnitude of the project, part of which comes from an inherent extensibility, has made it suitable for a myriad of use-cases.

In the industry, GNS3 naturally can come handy as a tool to prototype and test a topology for a real organization network, in the context of the practice of a network professional. But also, in the age of the DevOps philosophy---a set of practices and methodologies/philosophies for faster delivery of applications and services---, of which \emph{infrastructure as code} is one of the culprits~\cite{awswhatisdevops}, it can be of value for software engineers to test distributed applications that depend on certain network behaviors. Use cases related to cybersecurity are abundant (one kind of node that is available to add to GNS3 \emph{topologies} are firewalls), as well as for usage in the context of \gls{SDN}.
But also potential applications that are still relatively unexplored, such is the case of its usage in teaching and learning, particularly in the undergraduate and graduate university levels (and schools), the focus of of this work.

\section{Building blocks. The programs ``inside'' GNS3}
\label{sec:gns3buildingblocks}

In an extremely naive way of summarizing it, GNS3 is a conjunction of UI tools, a powerful distributed orchestrator, and a set of integrations with virtualization, containarization, and emulation from ``the outside'' (i.e. that do not belong to the GNS3 project, like KVM, Docker, or QEMU) to provide a way to describe a topology of interconnected computing and routing nodes---that is, a computer network---, including firewalls and NAT devices, control their behavior and launch administrative tools (like \texttt{telnet} sessions).

What follows is a description of what are those elements and what they do work internally.
How they integrate with GNS3 or vice-versa, and also how they interact with each other, is described in~\ref{sec:gns3architecture}.

\begin{figure}
  \centering
  \includegraphics[width=0.8\textwidth]{download-gns3}
  \caption{The download screen on the official GNS3 website}
  \label{fig:download-gns3}
\end{figure}

When GNS3 is installed downloading one of its desktop distributions---available for Windows, macOS, and GNU/Linux, like the screen shot~\ref{fig:download-gns3} shows---, a user is installing multiple ``programs'' (or applications, whichever is the preferred denomination), implemented in disjunct \emph{codebases}, and, given that they are \emph{free and open source} projects~\cite{gplv3}, hosted in GitHub, those \emph{codebases} are easily accessible---and developers can enhance features and provide bugfixes. Those are the essential building blocks of GNS3 and table~\ref{tab:gns3components} can serve a summary of what are those pieces.
It's worth noting that they are all under the GNS3 organization in GitHub\footnote{\url{https://github.com/gns3}}.

\input{Sources/Gns3/table-gns3parts}

\subsection{GNS3 GUI}
\label{subsec:gns3gui}

Interaction between the end-user and GNS3 is usually---though, as will be clear, not necessarily---made in a graphical environment.
A GNS3 project, called a \emph{topology}, is constantly opened on one single window (per running instance of the application) and is graphically represented in the main section of the window.

\begin{figure}
  \centering
  \includegraphics[width=0.8\textwidth]{gns3-empty-topology}
  \caption{An empty GNS3 topology shown in the GUI}
  \label{fig:gns3-empty-topology}
\end{figure}

\subsection{Dynamips}
\label{subsec:gns3dynamips}

The Dynamips emulator is a standalone program, written in C, that, usually, comes distributed together with the whole GNS3 package.
It is an emulator for a MIPS processor and was the original--single way to run the software of the Cisco nodes of the topologies created with GNS3.

In an official video~\cite{ytdynamipsvpcs}, Jeremy Grossmann clearly says that, as of version 2.2 (whose first stable version was released on September 30 2019\footnote{\url{https://github.com/GNS3/gns3-gui/releases/tag/v2.2.0}}), usage of Dynamips as a way to enable running Cisco IOS devices in a topology is discouraged.

% end of section gns3buildingblocks

\section{General architecture}

\begin{figure}
  \centering
  \includegraphics[width=1\textwidth]{gns3-running-arch}
  \caption{The GNS3 architecture}
  \label{fig:gns3-running-arch}
\end{figure}

In this section, an attempt is made to describe the different parts of GNS3 is to see what role they play in an execution of a topology (i.e. a project) and how they communicate with each other.
The diagram in figure~\ref{fig:gns3-running-arch} is based upon~\cite{ytgns3arch22}.
A central idea is the potentially distributed nature of the components, allowing for a complex topology with many nodes to be distributed across many hosts.
The precautions that must be taken to ensure a performance, and some caveats, will be explained in~\ref{sec:gns3inaction}. % TODO precautions taken?

\label{sec:gns3architecture}

% end of section gns3architecture

\section{GNS3 in action}
\label{sec:gns3inaction}

% end of section gns3inaction

\section{Performance and resources considerations}
\label{sec:gns3performance}

% end of section gns3performance

% end of chapter
